<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HHJJ ë„ì–´ë½ AI ìœ„í—˜ ê°ì§€ ì‹œë®¬ë ˆì´í„°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .card h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .scenario-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .scenario-btn {
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
        }
        
        .scenario-btn.normal {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
        }
        
        .scenario-btn.loitering {
            background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
        }
        
        .scenario-btn.intrusion {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        
        .scenario-btn.critical {
            background: linear-gradient(135deg, #ff0844 0%, #ffb199 100%);
        }
        
        .scenario-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }
        
        .scenario-btn:active {
            transform: translateY(0);
        }
        
        .sensor-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .sensor-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }
        
        .sensor-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }
        
        .sensor-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #333;
        }
        
        .sensor-bar {
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-top: 8px;
            overflow: hidden;
        }
        
        .sensor-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s;
        }
        
        .risk-display {
            text-align: center;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            transition: all 0.5s;
        }
        
        .risk-display.LOW {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            color: white;
        }
        
        .risk-display.MEDIUM {
            background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
            color: white;
        }
        
        .risk-display.HIGH {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
        }
        
        .risk-display.CRITICAL {
            background: linear-gradient(135deg, #ff0844 0%, #ffb199 100%);
            color: white;
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .risk-level {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .risk-confidence {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .probability-bars {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 20px;
        }
        
        .prob-item {
            text-align: center;
        }
        
        .prob-label {
            font-size: 0.9em;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .prob-bar {
            height: 100px;
            background: #e0e0e0;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .prob-bar-fill {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: linear-gradient(180deg, #667eea, #764ba2);
            transition: height 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .timeline {
            margin-top: 20px;
            padding: 20px;
            background: white;
            border-radius: 10px;
        }
        
        .timeline-item {
            padding: 10px;
            margin-bottom: 10px;
            border-left: 3px solid #667eea;
            padding-left: 15px;
            background: #f8f9fa;
            border-radius: 5px;
        }
        
        .timeline-time {
            color: #666;
            font-size: 0.9em;
        }
        
        .timeline-event {
            font-weight: bold;
            margin-top: 5px;
        }
        
        .action-list {
            list-style: none;
            padding: 0;
        }
        
        .action-item {
            padding: 12px;
            margin-bottom: 8px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            font-weight: 500;
        }
        
        .action-item.critical {
            border-left-color: #ff0844;
            background: #fff5f5;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .control-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .control-btn.start {
            background: #4CAF50;
            color: white;
        }
        
        .control-btn.stop {
            background: #f44336;
            color: white;
        }
        
        .control-btn.reset {
            background: #2196F3;
            color: white;
        }
        
        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .chart-container {
            margin-top: 20px;
            background: white;
            padding: 20px;
            border-radius: 10px;
        }
        
        canvas {
            max-width: 100%;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”’ HHJJ ë„ì–´ë½ AI ìœ„í—˜ ê°ì§€ ì‹œë®¬ë ˆì´í„°</h1>
        <p class="subtitle">ì‹¤ì‹œê°„ ë‹¤ì¤‘ì„¼ì„œ ìœµí•© LSTM ìœ„í—˜ë„ íŒì • ì‹œìŠ¤í…œ</p>
        
        <div class="card">
            <h2>ğŸ“‹ ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ</h2>
            <div class="scenario-buttons">
                <button class="scenario-btn normal" onclick="startScenario('normal')">
                    âœ… ì •ìƒ ë°©ë¬¸ì<br><small>íƒë°°ì›/ê°€ì¡±</small>
                </button>
                <button class="scenario-btn loitering" onclick="startScenario('loitering')">
                    âš ï¸ ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ë°°íšŒ<br><small>ì¥ì‹œê°„ ì²´ë¥˜</small>
                </button>
                <button class="scenario-btn intrusion" onclick="startScenario('intrusion')">
                    ğŸš¨ ì¹¨ì… ì‹œë„<br><small>ë“œë¦´ìŒ + ì¶©ê²©</small>
                </button>
                <button class="scenario-btn critical" onclick="startScenario('critical')">
                    ğŸ†˜ ê°•ì œ íŒŒì†<br><small>ì™¸í•¨ ê°œë°© + ì „ì› ì°¨ë‹¨</small>
                </button>
            </div>
            
            <div class="controls">
                <button class="control-btn start" onclick="pauseResume()">
                    <span id="pauseText">â¸ï¸ ì¼ì‹œì •ì§€</span>
                </button>
                <button class="control-btn reset" onclick="resetSimulation()">
                    ğŸ”„ ì´ˆê¸°í™”
                </button>
            </div>
        </div>
        
        <div class="main-grid">
            <div class="card">
                <h2>ğŸ“Š ì„¼ì„œ ë°ì´í„° (ì‹¤ì‹œê°„)</h2>
                <div class="sensor-grid">
                    <div class="sensor-item">
                        <div class="sensor-label">ê±°ë¦¬ (ToF)</div>
                        <div class="sensor-value" id="distance-value">300 cm</div>
                        <div class="sensor-bar">
                            <div class="sensor-bar-fill" id="distance-bar"></div>
                        </div>
                    </div>
                    
                    <div class="sensor-item">
                        <div class="sensor-label">ì²´ë¥˜ ì‹œê°„</div>
                        <div class="sensor-value" id="dwell-value">0 ì´ˆ</div>
                        <div class="sensor-bar">
                            <div class="sensor-bar-fill" id="dwell-bar"></div>
                        </div>
                    </div>
                    
                    <div class="sensor-item">
                        <div class="sensor-label">ì§„ë™ ê°•ë„ (IMU)</div>
                        <div class="sensor-value" id="vibration-value">0.0 g</div>
                        <div class="sensor-bar">
                            <div class="sensor-bar-fill" id="vibration-bar"></div>
                        </div>
                    </div>
                    
                    <div class="sensor-item">
                        <div class="sensor-label">ìŒì•• ë ˆë²¨ (ë§ˆì´í¬)</div>
                        <div class="sensor-value" id="audio-value">40 dB</div>
                        <div class="sensor-bar">
                            <div class="sensor-bar-fill" id="audio-bar"></div>
                        </div>
                    </div>
                    
                    <div class="sensor-item">
                        <div class="sensor-label">ì „ì› ìƒíƒœ</div>
                        <div class="sensor-value" id="power-value">âœ… ì •ìƒ</div>
                    </div>
                    
                    <div class="sensor-item">
                        <div class="sensor-label">ì™¸í•¨ ìƒíƒœ</div>
                        <div class="sensor-value" id="tamper-value">ğŸ”’ ë‹«í˜</div>
                    </div>
                </div>
                
                <div class="timeline" id="timeline">
                    <h3>â±ï¸ ì´ë²¤íŠ¸ íƒ€ì„ë¼ì¸</h3>
                    <div id="timeline-content"></div>
                </div>
            </div>
            
            <div class="card">
                <h2>ğŸ¤– AI ìœ„í—˜ë„ íŒì •</h2>
                <div class="risk-display" id="risk-display">
                    <div class="risk-level" id="risk-level">LOW</div>
                    <div class="risk-confidence" id="risk-confidence">ì‹ ë¢°ë„: 0%</div>
                    <div class="sensor-value" id="elapsed-time">ê²½ê³¼ ì‹œê°„: 0ì´ˆ</div>
                </div>
                
                <h3>ğŸ“ˆ ìœ„í—˜ë„ í™•ë¥  ë¶„í¬</h3>
                <div class="probability-bars">
                    <div class="prob-item">
                        <div class="prob-label">LOW</div>
                        <div class="prob-bar">
                            <div class="prob-bar-fill" id="prob-low">0%</div>
                        </div>
                    </div>
                    <div class="prob-item">
                        <div class="prob-label">MEDIUM</div>
                        <div class="prob-bar">
                            <div class="prob-bar-fill" id="prob-medium">0%</div>
                        </div>
                    </div>
                    <div class="prob-item">
                        <div class="prob-label">HIGH</div>
                        <div class="prob-bar">
                            <div class="prob-bar-fill" id="prob-high">0%</div>
                        </div>
                    </div>
                    <div class="prob-item">
                        <div class="prob-label">CRITICAL</div>
                        <div class="prob-bar">
                            <div class="prob-bar-fill" id="prob-critical">0%</div>
                        </div>
                    </div>
                </div>
                
                <h3 style="margin-top: 20px;">âš¡ ìë™ ëŒ€ì‘ ì¡°ì¹˜</h3>
                <ul class="action-list" id="action-list">
                    <li class="action-item">ëŒ€ê¸° ì¤‘...</li>
                </ul>
            </div>
        </div>
    </div>
    
    <script>
        // ì‹œë®¬ë ˆì´ì…˜ ìƒíƒœ
        let currentScenario = null;
        let elapsedTime = 0;
        let simulationInterval = null;
        let isPaused = false;
        let timelineEvents = [];
        
        // ì„¼ì„œ ë°ì´í„°
        let sensorData = {
            distance: 300,
            dwellTime: 0,
            vibration: 0,
            audio: 40,
            powerNormal: true,
            housingOpen: false
        };
        
        // AI ëª¨ë¸ ì‹œë®¬ë ˆì´ì…˜ (ê°„ë‹¨í•œ ê·œì¹™ ê¸°ë°˜)
        function calculateRisk() {
            let distanceScore = (300 - sensorData.distance) / 300;
            let dwellScore = Math.min(sensorData.dwellTime / 300, 1);
            let vibrationScore = Math.min(sensorData.vibration / 10, 1);
            let audioScore = Math.min(Math.max((sensorData.audio - 40) / 80, 0), 1);
            let powerScore = sensorData.powerNormal ? 0 : 1;
            let tamperScore = sensorData.housingOpen ? 1 : 0;
            
            // ê°€ì¤‘ì¹˜ ì ìš©
            let fusionScore = 
                distanceScore * 0.25 +
                dwellScore * 0.20 +
                vibrationScore * 0.20 +
                audioScore * 0.15 +
                powerScore * 0.10 +
                tamperScore * 0.10;
            
            // ìœ„í—˜ë„ ë ˆë²¨ ê²°ì •
            let riskLevel, confidence;
            let probabilities = {
                LOW: 0,
                MEDIUM: 0,
                HIGH: 0,
                CRITICAL: 0
            };
            
            if (fusionScore < 0.3) {
                riskLevel = 'LOW';
                confidence = (0.3 - fusionScore) / 0.3;
                probabilities.LOW = confidence * 100;
                probabilities.MEDIUM = (1 - confidence) * 100;
            } else if (fusionScore < 0.6) {
                riskLevel = 'MEDIUM';
                confidence = (fusionScore - 0.3) / 0.3;
                probabilities.MEDIUM = confidence * 100;
                probabilities.HIGH = (1 - confidence) * 50;
                probabilities.LOW = (1 - confidence) * 50;
            } else if (fusionScore < 0.85) {
                riskLevel = 'HIGH';
                confidence = (fusionScore - 0.6) / 0.25;
                probabilities.HIGH = confidence * 100;
                probabilities.CRITICAL = (1 - confidence) * 60;
                probabilities.MEDIUM = (1 - confidence) * 40;
            } else {
                riskLevel = 'CRITICAL';
                confidence = (fusionScore - 0.85) / 0.15;
                probabilities.CRITICAL = 90 + confidence * 10;
                probabilities.HIGH = 10 - confidence * 10;
            }
            
            return { riskLevel, confidence, probabilities };
        }
        
        // ì‹œë‚˜ë¦¬ì˜¤ ì •ì˜
        const scenarios = {
            normal: {
                name: 'ì •ìƒ ë°©ë¬¸ì',
                duration: 40,
                update: (t) => {
                    if (t < 5) {
                        sensorData.distance = 200 - t * 30;
                    } else if (t < 30) {
                        sensorData.distance = 50;
                    } else {
                        sensorData.distance = 50 + (t - 30) * 30;
                    }
                    sensorData.dwellTime = t;
                    sensorData.audio = (t === 10) ? 70 : 40;
                    sensorData.vibration = 0;
                    
                    if (t === 10) {
                        addTimelineEvent('ë„ì–´ë²¨ ìš¸ë¦¼ (ì •ìƒ ì‹ í˜¸)');
                    }
                }
            },
            loitering: {
                name: 'ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ë°°íšŒ',
                duration: 120,
                update: (t) => {
                    sensorData.distance = 50 + Math.random() * 10 - 5;
                    sensorData.dwellTime = t;
                    sensorData.audio = 40;
                    sensorData.vibration = 0;
                    
                    if (t === 30) addTimelineEvent('30ì´ˆ ì²´ë¥˜ - MEDIUM ìœ„í—˜ ê°ì§€');
                    if (t === 90) addTimelineEvent('90ì´ˆ ì²´ë¥˜ - HIGH ìœ„í—˜ ê°ì§€');
                }
            },
            intrusion: {
                name: 'ì¹¨ì… ì‹œë„',
                duration: 180,
                update: (t) => {
                    sensorData.distance = 50 + Math.random() * 5;
                    sensorData.dwellTime = t;
                    
                    if (t > 90) {
                        sensorData.vibration = 3 + Math.random() * 2;
                        sensorData.audio = 85 + Math.random() * 10;
                        if (t === 91) addTimelineEvent('ë“œë¦´ìŒ ê°ì§€ (85dB)');
                        if (t === 92) addTimelineEvent('ê°•í•œ ì§„ë™ ê°ì§€ (5g)');
                    } else {
                        sensorData.vibration = 0;
                        sensorData.audio = 40;
                    }
                }
            },
            critical: {
                name: 'ê°•ì œ íŒŒì†',
                duration: 200,
                update: (t) => {
                    sensorData.distance = 50;
                    sensorData.dwellTime = t;
                    
                    if (t > 120) {
                        sensorData.vibration = 5 + Math.random() * 3;
                        sensorData.audio = 90 + Math.random() * 10;
                    }
                    
                    if (t > 150) {
                        sensorData.housingOpen = true;
                        if (t === 151) addTimelineEvent('âš ï¸ ì™¸í•¨ ê°•ì œ ê°œë°© ê°ì§€!');
                    }
                    
                    if (t > 180) {
                        sensorData.powerNormal = false;
                        if (t === 181) addTimelineEvent('ğŸš¨ ì „ì› ì°¨ë‹¨ ì‹œë„ ê°ì§€!');
                    }
                }
            }
        };
        
        // ì‹œë‚˜ë¦¬ì˜¤ ì‹œì‘
        function startScenario(scenarioName) {
            resetSimulation();
            currentScenario = scenarioName;
            isPaused = false;
            document.getElementById('pauseText').textContent = 'â¸ï¸ ì¼ì‹œì •ì§€';
            
            addTimelineEvent(`ì‹œë‚˜ë¦¬ì˜¤ ì‹œì‘: ${scenarios[scenarioName].name}`);
            
            simulationInterval = setInterval(() => {
                if (!isPaused) {
                    elapsedTime++;
                    
                    if (elapsedTime <= scenarios[currentScenario].duration) {
                        scenarios[currentScenario].update(elapsedTime);
                        updateDisplay();
                    } else {
                        pauseSimulation();
                    }
                }
            }, 1000);
        }
        
        // í™”ë©´ ì—…ë°ì´íŠ¸
        function updateDisplay() {
            // ì„¼ì„œ ë°ì´í„° í‘œì‹œ
            document.getElementById('distance-value').textContent = Math.round(sensorData.distance) + ' cm';
            document.getElementById('dwell-value').textContent = sensorData.dwellTime + ' ì´ˆ';
            document.getElementById('vibration-value').textContent = sensorData.vibration.toFixed(1) + ' g';
            document.getElementById('audio-value').textContent = Math.round(sensorData.audio) + ' dB';
            document.getElementById('power-value').textContent = sensorData.powerNormal ? 'âœ… ì •ìƒ' : 'âŒ ì´ìƒ';
            document.getElementById('tamper-value').textContent = sensorData.housingOpen ? 'ğŸ”“ ì—´ë¦¼' : 'ğŸ”’ ë‹«í˜';
            document.getElementById('elapsed-time').textContent = 'ê²½ê³¼ ì‹œê°„: ' + elapsedTime + 'ì´ˆ';
            
            // ì„¼ì„œ ë°” ì—…ë°ì´íŠ¸
            document.getElementById('distance-bar').style.width = ((300 - sensorData.distance) / 300 * 100) + '%';
            document.getElementById('dwell-bar').style.width = (Math.min(sensorData.dwellTime / 300, 1) * 100) + '%';
            document.getElementById('vibration-bar').style.width = (Math.min(sensorData.vibration / 10, 1) * 100) + '%';
            document.getElementById('audio-bar').style.width = (Math.min((sensorData.audio - 40) / 80, 1) * 100) + '%';
            
            // AI ìœ„í—˜ë„ ê³„ì‚°
            const risk = calculateRisk();
            
            // ìœ„í—˜ë„ í‘œì‹œ
            const riskDisplay = document.getElementById('risk-display');
            riskDisplay.className = 'risk-display ' + risk.riskLevel;
            document.getElementById('risk-level').textContent = risk.riskLevel;
            document.getElementById('risk-confidence').textContent = 'ì‹ ë¢°ë„: ' + Math.round(risk.confidence * 100) + '%';
            
            // í™•ë¥  ë°” ì—…ë°ì´íŠ¸
            document.getElementById('prob-low').style.height = risk.probabilities.LOW + '%';
            document.getElementById('prob-low').textContent = Math.round(risk.probabilities.LOW) + '%';
            
            document.getElementById('prob-medium').style.height = risk.probabilities.MEDIUM + '%';
            document.getElementById('prob-medium').textContent = Math.round(risk.probabilities.MEDIUM) + '%';
            
            document.getElementById('prob-high').style.height = risk.probabilities.HIGH + '%';
            document.getElementById('prob-high').textContent = Math.round(risk.probabilities.HIGH) + '%';
            
            document.getElementById('prob-critical').style.height = risk.probabilities.CRITICAL + '%';
            document.getElementById('prob-critical').textContent = Math.round(risk.probabilities.CRITICAL) + '%';
            
            // ëŒ€ì‘ ì¡°ì¹˜ í‘œì‹œ
            updateActions(risk.riskLevel, risk.confidence);
        }
        
        // ëŒ€ì‘ ì¡°ì¹˜ ì—…ë°ì´íŠ¸
        function updateActions(riskLevel, confidence) {
            const actionList = document.getElementById('action-list');
            let actions = [];
            
            if (riskLevel === 'LOW') {
                actions = ['ğŸ“ ì´ë²¤íŠ¸ ë¡œê·¸ ê¸°ë¡'];
            } else if (riskLevel === 'MEDIUM' && confidence > 0.6) {
                actions = [
                    'ğŸ“± ì‚¬ìš©ì ì•± ì•Œë¦¼ ì „ì†¡',
                    'ğŸ“¹ ì¹´ë©”ë¼ ë…¹í™” ì‹œì‘'
                ];
            } else if (riskLevel === 'HIGH' && confidence > 0.7) {
                actions = [
                    'ğŸš¨ ì‚¬ìš©ì ê¸´ê¸‰ ì•Œë¦¼',
                    'ğŸ”’ ë„ì–´ë½ ê°•í™” ì ê¸ˆ',
                    'ğŸ“¹ ê³ í•´ìƒë„ ì˜ìƒ ë…¹í™”',
                    'ğŸ“ ê²½ë¹„ì‹¤ ì—°ê²° ëŒ€ê¸°'
                ];
            } else if (riskLevel === 'CRITICAL' || (riskLevel === 'HIGH' && confidence > 0.9)) {
                actions = [
                    'ğŸš“ ìë™ ê²½ì°° ì‹ ê³  (ì§„í–‰ ì¤‘)',
                    'ğŸ” ë¹„ìƒ ì ê¸ˆ í™œì„±í™”',
                    'ğŸ“¦ ì¦ê±° ë°ì´í„° íŒ¨í‚¤ì§€ ì „ì†¡',
                    'ğŸ”Š ì‚¬ì´ë Œ ì‘ë™',
                    'ğŸ“ ìœ„ì¹˜ ì •ë³´ ì „ì†¡'
                ];
            }
            
            actionList.innerHTML = '';
            actions.forEach(action => {
                const li = document.createElement('li');
                li.className = 'action-item';
                if (riskLevel === 'CRITICAL') {
                    li.classList.add('critical');
                }
                li.textContent = action;
                actionList.appendChild(li);
            });
        }
        
        // íƒ€ì„ë¼ì¸ ì´ë²¤íŠ¸ ì¶”ê°€
        function addTimelineEvent(event) {
            const timelineContent = document.getElementById('timeline-content');
            const item = document.createElement('div');
            item.className = 'timeline-item';
            item.innerHTML = `
                <div class="timeline-time">${elapsedTime}ì´ˆ</div>
                <div class="timeline-event">${event}</div>
            `;
            timelineContent.insertBefore(item, timelineContent.firstChild);
            
            // ìµœëŒ€ 10ê°œë§Œ ìœ ì§€
            if (timelineContent.children.length > 10) {
                timelineContent.removeChild(timelineContent.lastChild);
            }
        }
        
        // ì¼ì‹œì •ì§€/ì¬ê°œ
        function pauseResume() {
            isPaused = !isPaused;
            document.getElementById('pauseText').textContent = isPaused ? 'â–¶ï¸ ì¬ê°œ' : 'â¸ï¸ ì¼ì‹œì •ì§€';
        }
        
        function pauseSimulation() {
            isPaused = true;
            document.getElementById('pauseText').textContent = 'â–¶ï¸ ì¬ê°œ';
        }
        
        // ì´ˆê¸°í™”
        function resetSimulation() {
            if (simulationInterval) {
                clearInterval(simulationInterval);
            }
            
            elapsedTime = 0;
            isPaused = false;
            
            sensorData = {
                distance: 300,
                dwellTime: 0,
                vibration: 0,
                audio: 40,
                powerNormal: true,
                housingOpen: false
            };
            
            document.getElementById('timeline-content').innerHTML = '';
            document.getElementById('action-list').innerHTML = '<li class="action-item">ëŒ€ê¸° ì¤‘...</li>';
            
            updateDisplay();
        }
        
        // ì´ˆê¸° í™”ë©´ ì„¤ì •
        resetSimulation();
    </script>
</body>
</html>
